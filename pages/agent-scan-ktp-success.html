<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KTP Berhasil Dipindai - Portal Agent Perlinsos</title>
    <link rel="stylesheet" href="perlinsos-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="mobile-container">
        <!-- Content -->
        <div class="content" style="padding-top: var(--spacing-lg);">
            <!-- Header with Back Button -->
            <div class="nav-header" style="padding: var(--spacing-lg) 0; border-bottom: none;">
                <button onclick="goBack()" class="back-btn">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div class="nav-title" style="margin-left: 0;">Data KTP Berhasil</div>
            </div>

            <!-- Success Animation -->
            <div style="text-align: center; margin-bottom: var(--spacing-2xl);">
                <div style="width: 100px; height: 100px; margin: 0 auto var(--spacing-lg); background: linear-gradient(135deg, var(--green-success) 0%, #065F46 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px; color: var(--white-primary); box-shadow: var(--shadow-xl); animation: ktp-success-pulse 2s ease-in-out infinite;">
                    <i class="fas fa-check"></i>
                </div>
                <h1 style="font-size: 24px; font-weight: 700; color: var(--gray-900); margin-bottom: var(--spacing-sm);">KTP Berhasil Dipindai!</h1>
                <p style="color: var(--text-secondary); font-size: 14px; line-height: 1.5;">Data identitas telah berhasil diekstrak dari KTP dengan akurasi tinggi</p>
            </div>

            <!-- Scan Results Summary -->
            <div class="card" style="margin-bottom: var(--spacing-xl);">
                <div class="card-header" style="background: var(--green-light); color: var(--green-success);">
                    <h3 style="font-size: 16px; margin: 0; display: flex; align-items: center; gap: var(--spacing-sm);">
                        <i class="fas fa-chart-line"></i>
                        Hasil Pemindaian
                    </h3>
                </div>
                <div class="card-content">
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: var(--spacing-lg); text-align: center; margin-bottom: var(--spacing-lg);">
                        <div>
                            <div style="font-size: 20px; font-weight: 700; color: var(--green-success); margin-bottom: var(--spacing-xs);">98.5%</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">Akurasi OCR</div>
                        </div>
                        <div>
                            <div style="font-size: 20px; font-weight: 700; color: var(--green-success); margin-bottom: var(--spacing-xs);">2.3s</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">Waktu Proses</div>
                        </div>
                        <div>
                            <div style="font-size: 20px; font-weight: 700; color: var(--green-success); margin-bottom: var(--spacing-xs);">8</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">Field Terdeteksi</div>
                        </div>
                    </div>
                    
                    <!-- Confidence Level -->
                    <div style="margin-top: var(--spacing-lg);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-sm);">
                            <span style="font-size: 14px; font-weight: 600; color: var(--gray-900);">Tingkat Kepercayaan</span>
                            <span style="font-size: 14px; font-weight: 600; color: var(--green-success);">Sangat Tinggi</span>
                        </div>
                        <div style="width: 100%; height: 8px; background: var(--gray-200); border-radius: 4px; overflow: hidden;">
                            <div style="width: 98.5%; height: 100%; background: linear-gradient(90deg, var(--green-success), #065F46); border-radius: 4px; animation: ktp-fill-progress 2s ease-out;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Extracted Data -->
            <div class="card" style="margin-bottom: var(--spacing-xl);">
                <div class="card-header" style="background: var(--blue-light); color: var(--blue-primary);">
                    <h3 style="font-size: 16px; margin: 0; display: flex; align-items: center; gap: var(--spacing-sm);">
                        <i class="fas fa-user"></i>
                        Data Identitas Warga (Dapat Diedit)
                    </h3>
                </div>
                <div class="card-content">
                    <!-- Personal Information -->
                    <div class="ktp-data-section">
                        <h4 style="font-size: 14px; font-weight: 600; color: var(--gray-900); margin-bottom: var(--spacing-lg); padding-bottom: var(--spacing-sm); border-bottom: 1px solid var(--gray-200);">
                            <i class="fas fa-id-card" style="color: var(--blue-primary); margin-right: var(--spacing-sm);"></i>
                            Informasi Pribadi
                        </h4>
                        
                        <div class="ktp-data-grid">
                            <div class="ktp-data-item">
                                <label>NIK</label>
                                <input type="text" class="ktp-data-input" id="nik" value="3275051234567890" maxlength="16">
                                <div class="ktp-confidence-badge ktp-high">99.1%</div>
                            </div>
                            
                            <div class="ktp-data-item">
                                <label>Nama Lengkap</label>
                                <input type="text" class="ktp-data-input" id="fullName" value="BUDI SANTOSO">
                                <div class="ktp-confidence-badge ktp-high">98.7%</div>
                            </div>
                            
                            <div class="ktp-data-item">
                                <label>TTL</label>
                                <input type="text" class="ktp-data-input" id="birthInfo" value="JAKARTA, 15-07-1985">
                                <div class="ktp-confidence-badge ktp-high">97.3%</div>
                            </div>
                            
                            <div class="ktp-data-item">
                                <label>Jenis Kelamin</label>
                                <select class="ktp-data-input" id="gender">
                                    <option value="LAKI-LAKI" selected>LAKI-LAKI</option>
                                    <option value="PEREMPUAN">PEREMPUAN</option>
                                </select>
                                <div class="ktp-confidence-badge ktp-high">99.8%</div>
                            </div>
                        </div>
                    </div>

                    <!-- Address Information -->
                    <div class="ktp-data-section">
                        <h4 style="font-size: 14px; font-weight: 600; color: var(--gray-900); margin-bottom: var(--spacing-lg); padding-bottom: var(--spacing-sm); border-bottom: 1px solid var(--gray-200);">
                            <i class="fas fa-map-marker-alt" style="color: var(--red-primary); margin-right: var(--spacing-sm);"></i>
                            Alamat Lengkap
                        </h4>
                        
                        <div class="ktp-data-grid">
                            <div class="ktp-data-item ktp-full-width">
                                <label>Alamat</label>
                                <input type="text" class="ktp-data-input" id="address" value="JL. MERDEKA RAYA NO. 123 RT 001/002">
                                <div class="ktp-confidence-badge ktp-medium">95.2%</div>
                            </div>
                            
                            <div class="ktp-data-item">
                                <label>Kelurahan/Desa</label>
                                <input type="text" class="ktp-data-input" id="village" value="MENTENG">
                                <div class="ktp-confidence-badge ktp-high">98.1%</div>
                            </div>
                            
                            <div class="ktp-data-item">
                                <label>Kecamatan</label>
                                <input type="text" class="ktp-data-input" id="district" value="MENTENG">
                                <div class="ktp-confidence-badge ktp-high">98.9%</div>
                            </div>
                            
                            <div class="ktp-data-item">
                                <label>Kabupaten/Kota</label>
                                <input type="text" class="ktp-data-input" id="city" value="JAKARTA PUSAT">
                                <div class="ktp-confidence-badge ktp-high">99.5%</div>
                            </div>
                            
                            <div class="ktp-data-item">
                                <label>Provinsi</label>
                                <input type="text" class="ktp-data-input" id="province" value="DKI JAKARTA">
                                <div class="ktp-confidence-badge ktp-high">99.8%</div>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Information -->
                    <div class="ktp-data-section">
                        <h4 style="font-size: 14px; font-weight: 600; color: var(--gray-900); margin-bottom: var(--spacing-lg); padding-bottom: var(--spacing-sm); border-bottom: 1px solid var(--gray-200);">
                            <i class="fas fa-info-circle" style="color: var(--gold-accent); margin-right: var(--spacing-sm);"></i>
                            Informasi Tambahan
                        </h4>
                        
                        <div class="ktp-data-grid">
                            <div class="ktp-data-item">
                                <label>Agama</label>
                                <select class="ktp-data-input" id="religion">
                                    <option value="ISLAM" selected>ISLAM</option>
                                    <option value="KRISTEN">KRISTEN</option>
                                    <option value="KATOLIK">KATOLIK</option>
                                    <option value="HINDU">HINDU</option>
                                    <option value="BUDDHA">BUDDHA</option>
                                    <option value="KONGHUCU">KONGHUCU</option>
                                </select>
                                <div class="ktp-confidence-badge ktp-high">97.8%</div>
                            </div>
                            
                            <div class="ktp-data-item">
                                <label>Status</label>
                                <select class="ktp-data-input" id="maritalStatus">
                                    <option value="BELUM KAWIN">BELUM KAWIN</option>
                                    <option value="KAWIN" selected>KAWIN</option>
                                    <option value="CERAI HIDUP">CERAI HIDUP</option>
                                    <option value="CERAI MATI">CERAI MATI</option>
                                </select>
                                <div class="ktp-confidence-badge ktp-high">98.4%</div>
                            </div>
                            
                            <div class="ktp-data-item">
                                <label>Pekerjaan</label>
                                <input type="text" class="ktp-data-input" id="occupation" value="KARYAWAN SWASTA">
                                <div class="ktp-confidence-badge ktp-medium">94.6%</div>
                            </div>
                            
                            <div class="ktp-data-item">
                                <label>Kewarganegaraan</label>
                                <select class="ktp-data-input" id="citizenship">
                                    <option value="WNI" selected>WNI</option>
                                    <option value="WNA">WNA</option>
                                </select>
                                <div class="ktp-confidence-badge ktp-high">99.9%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Data Verification -->
            <div class="card" style="margin-bottom: var(--spacing-xl);">
                <div class="card-header" style="background: var(--gold-light); color: var(--gold-accent);">
                    <h4 style="font-size: 16px; margin: 0; display: flex; align-items: center; gap: var(--spacing-sm);">
                        <i class="fas fa-clipboard-check"></i>
                        Verifikasi Data
                    </h4>
                </div>
                <div class="card-content">
                    <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: var(--spacing-lg); line-height: 1.5;">
                        Periksa dan edit data yang telah diekstrak sebelum melanjutkan proses.
                    </p>
                    
                    <div style="background: var(--gray-50); padding: var(--spacing-lg); border-radius: var(--radius-lg); margin-bottom: var(--spacing-lg);">
                        <div style="display: flex; align-items: center; gap: var(--spacing-sm); margin-bottom: var(--spacing-sm);">
                            <input type="checkbox" id="dataVerified" style="margin: 0;">
                            <label for="dataVerified" style="font-size: 14px; font-weight: 600; margin: 0; cursor: pointer;">
                                Saya telah memverifikasi bahwa data di atas sudah benar
                            </label>
                        </div>
                        <p style="font-size: 12px; color: var(--text-secondary); margin: 0;">
                            Centang kotak ini jika semua data identitas sudah sesuai dengan KTP asli
                        </p>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div style="margin-bottom: var(--spacing-xl);">
                <h3 style="font-size: 18px; font-weight: 600; margin-bottom: var(--spacing-lg); color: var(--gray-900);">Langkah Selanjutnya</h3>
                
                <!-- Use Data -->
                <div class="card" style="margin-bottom: var(--spacing-lg);">
                    <div class="card-content" style="text-align: center;">
                        <div style="width: 48px; height: 48px; margin: 0 auto var(--spacing-lg); background: var(--blue-light); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-arrow-right" style="color: var(--blue-primary); font-size: 20px;"></i>
                        </div>
                        <h4 style="font-size: 16px; margin-bottom: var(--spacing-sm); color: var(--gray-900);">Gunakan Data Ini</h4>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-bottom: var(--spacing-lg); line-height: 1.5;">
                            Lanjutkan proses dengan menggunakan data yang telah diekstrak dan diedit
                        </p>
                        <button id="useDataBtn" onclick="useExtractedData()" class="btn btn-primary btn-full" disabled>
                            <i class="fas fa-check"></i>
                            Submit
                        </button>
                    </div>
                </div>
            </div>

            <!-- Scan Info -->
            <div class="alert alert-success">
                <div class="alert-icon">
                    <i class="fas fa-info-circle"></i>
                </div>
                <div class="alert-content">
                    <h4>Informasi Pemindaian</h4>
                    <div style="font-size: 13px; margin-top: var(--spacing-sm);">
                        <div>Waktu: <span id="scanTime">15:42 WIB, 15 Juli 2024</span></div>
                        <div>Agent: AGT-001234</div>
                        <div>Metode: Kamera Mobile</div>
                        <div>ID Scan: KTP-<span id="scanId">240715154203</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <div class="home-indicator"></div>
        </div>
    </div>

    <script>
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set scan timestamp
            const now = new Date();
            document.getElementById('scanTime').textContent = 
                now.toLocaleTimeString('id-ID', { 
                    hour: '2-digit', 
                    minute: '2-digit', 
                    timeZoneName: 'short' 
                }) + ', ' + now.toLocaleDateString('id-ID', { 
                    day: 'numeric', 
                    month: 'long', 
                    year: 'numeric' 
                });
            
            // Generate scan ID
            const scanId = now.getFullYear().toString().substr(-2) + 
                          String(now.getMonth() + 1).padStart(2, '0') + 
                          String(now.getDate()).padStart(2, '0') + 
                          String(now.getHours()).padStart(2, '0') + 
                          String(now.getMinutes()).padStart(2, '0') + 
                          String(now.getSeconds()).padStart(2, '0');
            document.getElementById('scanId').textContent = scanId;

            // Setup data verification checkbox
            document.getElementById('dataVerified').addEventListener('change', function() {
                const useDataBtn = document.getElementById('useDataBtn');
                if (this.checked) {
                    useDataBtn.disabled = false;
                    useDataBtn.classList.remove('btn-secondary');
                    useDataBtn.classList.add('btn-primary');
                } else {
                    useDataBtn.disabled = true;
                    useDataBtn.classList.remove('btn-primary');
                    useDataBtn.classList.add('btn-secondary');
                }
            });

            // Setup input change listeners to track edits
            const inputs = document.querySelectorAll('.ktp-data-input');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    this.style.borderColor = 'var(--gold-accent)';
                    this.style.backgroundColor = '#FEF3C7';
                });
            });

            // Randomize some data for demo
            randomizeData();
        });

        function randomizeData() {
            const names = ['BUDI SANTOSO', 'SITI NURHALIZA', 'AHMAD WIJAYA', 'DEWI KARTIKA', 'ANDI RAHMAN'];
            const places = ['JAKARTA', 'BANDUNG', 'SURABAYA', 'MEDAN', 'MAKASSAR'];
            const religions = ['ISLAM', 'KRISTEN', 'KATOLIK', 'HINDU', 'BUDDHA'];
            const occupations = ['KARYAWAN SWASTA', 'PNS', 'WIRASWASTA', 'PETANI', 'GURU'];
            
            // Randomize some fields
            document.getElementById('fullName').value = names[Math.floor(Math.random() * names.length)];
            
            // Generate random NIK
            const nik = '32' + Math.floor(Math.random() * 10000000000000000).toString().padStart(14, '0');
            document.getElementById('nik').value = nik;
            
            // Randomize birth info
            const birthPlace = places[Math.floor(Math.random() * places.length)];
            const birthDate = String(Math.floor(Math.random() * 28) + 1).padStart(2, '0') + '-' +
                            String(Math.floor(Math.random() * 12) + 1).padStart(2, '0') + '-' +
                            (1960 + Math.floor(Math.random() * 40));
            document.getElementById('birthInfo').value = birthPlace + ', ' + birthDate;
            
            document.getElementById('religion').value = religions[Math.floor(Math.random() * religions.length)];
            document.getElementById('occupation').value = occupations[Math.floor(Math.random() * occupations.length)];
        }

        function useExtractedData() {
            if (!document.getElementById('dataVerified').checked) {
                alert('Mohon verifikasi data terlebih dahulu');
                return;
            }
            
            // Collect all the form data
            const formData = {
                nik: document.getElementById('nik').value,
                fullName: document.getElementById('fullName').value,
                birthInfo: document.getElementById('birthInfo').value,
                gender: document.getElementById('gender').value,
                address: document.getElementById('address').value,
                village: document.getElementById('village').value,
                district: document.getElementById('district').value,
                city: document.getElementById('city').value,
                province: document.getElementById('province').value,
                religion: document.getElementById('religion').value,
                maritalStatus: document.getElementById('maritalStatus').value,
                occupation: document.getElementById('occupation').value,
                citizenship: document.getElementById('citizenship').value
            };
            
            // Show loading state
            const button = document.getElementById('useDataBtn');
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Memproses Data...';
            button.disabled = true;
            
            // Simulate data processing
            setTimeout(() => {
                console.log('Data KTP yang disubmit:', formData);
                alert('Data berhasil disimpan! Mengarahkan ke langkah berikutnya...');
                // Here you would typically redirect to the next step
                // For demo, we'll go back to the agent dashboard
                window.location.href = 'agent-dashboard.html';
            }, 2000);
        }

        function scanAgain() {
            if (confirm('Apakah Anda yakin ingin memindai KTP lagi? Data saat ini akan hilang.')) {
                window.location.href = 'agent-scan-ktp.html';
            }
        }

        function goBack() {
            if (confirm('Kembali akan menghapus hasil pemindaian. Apakah Anda yakin?')) {
                history.back();
            }
        }
    </script>
</body>
</html>